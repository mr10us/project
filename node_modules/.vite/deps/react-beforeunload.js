import {
  require_react
} from "./chunk-XM3NJHTP.js";
import {
  __toESM
} from "./chunk-IGLCBFGR.js";

// node_modules/react-beforeunload/dist/react-beforeunload.js
var import_react = __toESM(require_react());
var l = (e) => {
  const n = typeof e == "function", t = (0, import_react.useRef)(e);
  (0, import_react.useEffect)(() => {
    t.current = e;
  }), (0, import_react.useEffect)(() => {
    if (n) {
      const o = (r) => {
        const u = t.current(r);
        if (typeof u == "string")
          return r.preventDefault(), r.returnValue = u;
        if (r.defaultPrevented)
          return r.returnValue = "";
      };
      return window.addEventListener("beforeunload", o), () => {
        window.removeEventListener("beforeunload", o);
      };
    }
  }, [n]);
};
var a = ({ children: e = null, onBeforeunload: n }) => (l(n), e);
export {
  a as Beforeunload,
  l as useBeforeunload
};
//# sourceMappingURL=react-beforeunload.js.map
